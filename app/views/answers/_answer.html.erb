<%= turbo_frame_tag "#{dom_id(answer)}_with_comments" do %>
  <div class="bg-gray-100 rounded-lg px-6 py-3 mb-2">
    <div class="flex flex-col space-y-4">
      <%= render partial: 'answers/only_answer', locals: { answer:, question: } %>

      <section class="bg-gray-100 py-2 lg:py-2 antialiased">
        <div class="max-w-2xl mx-auto px-4">
          <%= render partial: 'comments/commentable', locals: { commentable: answer, comment: @comment } %>
        </div>
      </section>
    </div>
  </div>
<% end %>

  <% if policy(answer).update? || policy(answer).destroy? %>
    <div class="inline-flex rounded-md shadow-sm mt-2" role="group">
      <% if policy(answer).update? %>
        <%= link_to 'Edit answer', edit_question_answer_path(question, answer), data: { turbo_frame: dom_id(answer) },
                    class: 'text-sm px-4 py-2 focus:outline-none text-white rounded-l-lg bg-yellow-400 hover:bg-yellow-500 focus:ring-4 focus:ring-yellow-300 font-medium' %>
      <% end %>
      <% if policy(answer).destroy? %>
        <%= link_to 'Delete answer', question_answer_path(question, answer), method: :delete, data: {
          turbo_method: :delete,
          turbo_confirm: "Are you sure?"
        }, class: 'text-sm px-4 py-2 focus:outline-none text-white rounded-r-lg bg-red-700 hover:bg-red-800 focus:ring-4 focus:ring-red-300 font-medium' %>
      <% end %>
    </div>
  <% end %>
</div>